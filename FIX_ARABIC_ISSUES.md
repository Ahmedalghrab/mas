# ?? ?? ????? ?????? ??? ?? ?????? ???????

## ?? **?????? ???????:**

### ? **???? 1: ????? ????? ??????**

??? ??? ????? ?? ????? `App.razor`:

```html
<script>
// Force load Arabic fonts
document.addEventListener('DOMContentLoaded', function() {
    document.body.style.fontFamily = "'Cairo', 'Tajawal', 'Segoe UI', Tahoma, sans-serif";
});
</script>
```

---

### ? **???? 2: ????? ?????**

?? ???????:
```
1. ???? Ctrl + Shift + Delete
2. ???? "Cached images and files"
3. ???? "Clear data"
4. ??? ????? ??????: Ctrl + Shift + R
```

---

### ? **???? 3: ??? ????? ????????**

??????? ?????? ?? ???????? ???????!

#### ????? ?????:

1. ???? ????? ????????:
```bash
cd C:\halah\mas\mas
sqlite3 mas.db
```

2. ???? ?? ????? ????? ????????:
```sql
PRAGMA encoding;
```
??? ?? ???? ???????: `UTF-8`

3. ??? ????????:
```sql
SELECT * FROM Products LIMIT 5;
SELECT * FROM Categories LIMIT 5;
```

---

### ? **???? 4: ????? ????? ????????**

??? ???? ???????? ????? ??? "???" ?? ????? ????????:

#### ?. ??? ???????? ???????:
```sql
DELETE FROM Products;
DELETE FROM Categories;
```

#### ?. ????? ????? ?????? ???????:

????? ??? `/admin/products` ???? ?????? ????? ????????:
- ??? ??????: ???? ????? ??????
- ?????: ???? ????? ????? ?????? ????? ?????
- ?????: 500

---

### ? **???? 5: ????? appsettings.json**

???? ?? ???? ???:

```json
{
  "ConnectionStrings": {
    "DefaultConnection": "Data Source=mas.db;Cache=Shared;Charset=UTF8"
  }
}
```

---

## ?? **????? ???????:**

### ???? ??????? ????? F12:

#### 1. ???? ?? ?????? ???????:
```javascript
// ?? Console
document.fonts.check("16px Cairo")
// ??? ?? ????: true
```

#### 2. ???? ?? ???????:
```javascript
// ?? Console
document.characterSet
// ??? ?? ????: "UTF-8"
```

#### 3. ???? ?? ???? ????????:
```javascript
// ?? Console
window.getComputedStyle(document.body).fontFamily
// ??? ?? ????? ???: "Cairo"
```

---

## ??? **?? ????: ????? ????**

### ?????? 1: ????? App.razor

```razor
<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <base href="/" />
    
    <!-- Preload Arabic Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&family=Tajawal:wght@300;400;500;700;900&display=swap">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&family=Tajawal:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" />
    <link rel="stylesheet" href="css/arabic-fonts.css" />
    <link rel="stylesheet" href="css/arabic-styles.css" />
    <link rel="stylesheet" href="app.css" />
    <link rel="stylesheet" href="mas.styles.css" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <HeadOutlet />
    
    <style>
        /* Inline critical Arabic font CSS */
        * {
            font-family: 'Cairo', 'Tajawal', 'Segoe UI', 'Arial', sans-serif !important;
        }
    </style>
</head>

<body>
    <Routes />
    <script src="_framework/blazor.web.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Force Arabic Font Loading -->
    <script>
        (function() {
     // Ensure fonts are loaded
      document.fonts.ready.then(function() {
      console.log('? Arabic fonts loaded successfully');
          document.body.style.fontFamily = "'Cairo', 'Tajawal', 'Segoe UI', 'Arial', sans-serif";
            });
       
      // Fallback font application
     if (document.readyState === 'loading') {
     document.addEventListener('DOMContentLoaded', applyFonts);
            } else {
        applyFonts();
     }
            
            function applyFonts() {
           document.body.style.fontFamily = "'Cairo', 'Tajawal', 'Segoe UI', 'Arial', sans-serif";
      console.log('? Fonts applied');
        }
        })();
    </script>
</body>

</html>
```

---

### ?????? 2: ????? Program.cs

??? ??? ?? ???????:

```csharp
using System.Text;

// Force UTF-8 encoding
Console.OutputEncoding = Encoding.UTF8;
Encoding.RegisterProvider(CodePagesEncodingProvider.Instance);
```

---

### ?????? 3: ????? ApplicationDbContext.cs

???? ??:

```csharp
protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
{
if (!optionsBuilder.IsConfigured)
    {
        optionsBuilder.UseSqlite("Data Source=mas.db;Cache=Shared");
    }
    
    // Force UTF-8
    optionsBuilder.UseSqlite(x => x.UseQuerySplittingBehavior(QuerySplittingBehavior.SplitQuery));
}
```

---

## ?? **?????? ????:**

### ???? ???? ???????:
```
http://localhost:5212/test-arabic
```

??? ?? ???:
- ? ????? ?????? ???????? (????)
- ? ?????? ?? ?? ???? ALMASS (????)
- ? ???? ?????? ??????? (?????)

??? ???? "???" ???????? ??:
- ? ?????? ?? ???? ?? Google
- ? ???????? ?? ????? ???????? ?????
- ? ??????? ?????? ???? ?????

---

## ?? **??????? ???????:**

| ??????? | ???? |
|---------|------|
| **Google Fonts ?????** | ?????? ???? ????? |
| **???????? ?????** | ??? ????? ???????? |
| **????? ????** | ???? ????? (Ctrl+Shift+R) |
| **??????? ????** | ??? `@charset "UTF-8";` |
| **?????? ?? ????** | ????? ?? ?????? fallback |

---

## ?? **?? ?????: ??????? ???? ?????**

??? ?? ???? Google Fonts:

### 1. ???? ??????:
??: https://fonts.google.com/specimen/Cairo
???? "Download family"

### 2. ?? ??????? ??:
```
mas/wwwroot/fonts/Cairo/
  - Cairo-Regular.ttf
  - Cairo-Bold.ttf
  - Cairo-SemiBold.ttf
```

### 3. ??? ?? arabic-fonts.css:

```css
@font-face {
  font-family: 'Cairo';
    src: url('/fonts/Cairo/Cairo-Regular.ttf') format('truetype');
    font-weight: 400;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: 'Cairo';
src: url('/fonts/Cairo/Cairo-Bold.ttf') format('truetype');
    font-weight: 700;
    font-style: normal;
    font-display: swap;
}
```

---

## ? **????? ?????? ????????:**

- [ ] ????? `App.razor` ?????? ??????
- [ ] ????? `@charset "UTF-8";` ?? CSS
- [ ] ????? `Program.cs` ?? UTF-8 encoding
- [ ] ??? ??? ???????
- [ ] ????? ????? ???????
- [ ] ?????? `/test-arabic`
- [ ] ??? ????? ????????
- [ ] ????? ????? ???????? ??? ???

---

## ?? **??? ????? ????:**

??? ?? ???:
- ? **????? ?????? ????????** (???? ??????)
- ? **???? ???? ???????** (???? ??????)
- ? **???? ?????? ???????** (?????)
- ? **?? ???? ??? ?????**

---

## ?? **??? ?????? ???????:**

### ???? ??:

1. **???? ????** ?? ???? `/test-arabic`
2. **Console log** (F12 ? Console)
3. **Network tab** (F12 ? Network) - ???? ?? ????? ??????
4. **?????** `PRAGMA encoding;` ?? ????? ????????

---

**??? ?????? ???????? ?? 1 ??? 5** ??

**?????? ???? 2 ?? 3 ??? ???????!** ?

---

**???? ?? ?? ??? ????? ???????** ??
